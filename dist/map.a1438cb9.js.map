{"mappings":"AAAA;AAGA,yCAAyC;AACzC,SAAS;IACL,IAAI,cAAc,SAAS,cAAc,CAAC;IAE1C,YAAY,gBAAgB,CAAC,SAAS;AAC1C;AAEA;AAEA,+BAA+B;AAC/B,SAAS;IACL,IAAI,mBAAmB,SAAS,cAAc,CAAC,aAAa,KAAK;IAEjE,IAAI,SAAS,CAAC,6CAA6C,EAAE,iBAAiB,eAAe,CAAC;IAE9F,WAAW;AAEf;AAEA,2BAA2B;AAC3B,eAAe,WAAW,MAAM;IAC5B,IAAI;QACA,IAAI,WAAW,MAAM,MAAM;QAE3B,IAAI,UAAU,MAAM,SAAS,IAAI;QAEjC,IAAI,MAAM,QAAQ,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;QACrD,IAAI,OAAO,QAAQ,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;QAEtD,UAAU,KAAK;IAGnB,EAAE,OAAM;QACJ,QAAQ,GAAG,CAAC;IAChB;AACJ;AAEA,+DAA+D;AAC/D,SAAS,UAAU,GAAG,EAAE,IAAI;IAExB,IAAI,OAAO,QAAQ,QAAQ,MAAK;QAC5B,IAAI,MAAM,EAAE,GAAG,CAAC,OAAO,OAAO,CAAC;YAAC;YAAU;SAAS,EAAE;QAErD,EAAE,SAAS,CAAC,kDAAkD;YAC9D,SAAS;YACT,aAAa;QACb,GAAG,KAAK,CAAC;IAEb,OAAO;QACH,IAAI,MAAM,EAAE,GAAG,CAAC,OAAO,OAAO,CAAC;YAAC;YAAK;SAAK,EAAE;QAE5C,EAAE,SAAS,CAAC,kDAAkD;YAC9D,SAAS;YACT,aAAa;QACb,GAAG,KAAK,CAAC;IACjB;AACA;AAEA,aAAa,0FAA0F","sources":["src/js/maps.js"],"sourcesContent":["\"use strict\";      \r\n\r\n\r\n//För att få knappen att skicka sökvärdet\r\nfunction btnFunction() { \r\n    let searchBtnEl = document.getElementById(\"searchBtn\"); \r\n\r\n    searchBtnEl.addEventListener('click', inputValue); \r\n} \r\n\r\nbtnFunction(); \r\n\r\n//För att få in värdet i api:n \r\nfunction inputValue() {\r\n    let searchBarValueEl = document.getElementById(\"searchBar\").value; \r\n\r\n    let mapURL = `https://nominatim.openstreetmap.org/search?q=${searchBarValueEl}&format=geojson` \r\n\r\n    getMapInfo(mapURL) \r\n\r\n} \r\n\r\n//hämtar api med sökvärdet \r\nasync function getMapInfo(mapURL){\r\n    try {\r\n        let response = await fetch(mapURL); \r\n\r\n        let mapInfo = await response.json(); \r\n\r\n        let lat = mapInfo.features[0].geometry.coordinates[1]; \r\n        let long = mapInfo.features[0].geometry.coordinates[0]; \r\n\r\n        createMap(lat, long) \r\n\r\n\r\n    } catch {\r\n        console.log(\"Något gick galet...\")\r\n    }\r\n} \r\n\r\n//Skapar kartan med hjälp av latitud och longitud för sökningen\r\nfunction createMap(lat, long) { \r\n\r\n    if (lat == null && long == null){\r\n        var map = L.map('map').setView([58.41086, 15.62157], 13);  \r\n        \r\n        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        maxZoom: 19,\r\n        attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\r\n        }).addTo(map);\r\n\r\n    } else {\r\n        var map = L.map('map').setView([lat, long], 13);  \r\n        \r\n        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        maxZoom: 19,\r\n        attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\r\n        }).addTo(map); \r\n} \r\n}\r\n\r\ncreateMap(); //OM KARTAN KALLAS PÅ FÖRST KAN DEN INTE UPPDATERAS SEN. BEHÖVER KUNNA SÖKA FÖERA GÅNGER. "],"names":[],"version":3,"file":"map.a1438cb9.js.map","sourceRoot":"/__parcel_source_root/"}