{"mappings":"AAAA;AAEA,yBAAyB;AACzB,IAAI,cAAc,SAAS,cAAc,CAAC;AAC1C,IAAI,eAAe,SAAS,cAAc,CAAC;AAC3C,IAAI,KAAK,qDAAqD;AAE9D,2BAA2B;AAC3B,YAAY,gBAAgB,CAAC,SAAS;AAEtC,6CAA6C;AAC7C,OAAO,MAAM,GAAG,UAAU,SAAS;AAEnC,+BAA+B;AAC/B,SAAS;IACL,IAAI,mBAAmB,SAAS,cAAc,CAAC,aAAa,KAAK;IAEjE,IAAI,SAAS,CAAC,6CAA6C,EAAE,iBAAiB,eAAe,CAAC;IAE9F,WAAW;AAEf;AAEA,2BAA2B;AAC3B,eAAe,WAAW,MAAM;IAC5B,IAAI;QACA,IAAI,WAAW,MAAM,MAAM;QAE3B,IAAI,UAAU,MAAM,SAAS,IAAI;QAEjC,IAAI,MAAM,QAAQ,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;QACrD,IAAI,OAAO,QAAQ,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;QAEtD,UAAU,KAAK;IAGnB,EAAE,OAAM;QACJ,QAAQ,GAAG,CAAC;IAChB;AACJ;AAGA,iFAAiF;AACjF,SAAS,UAAU,GAAG,EAAE,IAAI;IACxB,IAAI,KACA,qCAAqC;IACrC,IAAI,OAAO,CAAC;QAAC;QAAK;KAAK,EAAE;SACtB;QACH,iCAAiC;QACjC,MAAM,EAAE,GAAG,CAAC,cAAc,OAAO,CAAC;YAAC;YAAK;SAAK,EAAE;QAC/C,EAAE,SAAS,CAAC,kDAAkD;YAC1D,SAAS;YACT,aAAa;QACjB,GAAG,KAAK,CAAC;IACb;IAEA,wCAAwC;IACxC,EAAE,MAAM,CAAC;QAAC;QAAK;KAAK,EAAE,KAAK,CAAC;AAChC","sources":["src/js/maps.js"],"sourcesContent":["\"use strict\";      \r\n\r\n//Hämtar element från DOM\r\nlet searchBtnEl = document.getElementById(\"searchBtn\"); \r\nlet mapContainer = document.getElementById(\"map\");\r\nlet map; //skapar en tom variabel som kommer deklareras senare\r\n\r\n//Eventlyssnare för knappen\r\nsearchBtnEl.addEventListener('click', inputValue); \r\n\r\n//Kallar på en karta vid inladdning av sidan \r\nwindow.onload = createMap(59.3293, 18.0686); \r\n\r\n//För att få in värdet i api:n \r\nfunction inputValue() {\r\n    let searchBarValueEl = document.getElementById(\"searchBar\").value; \r\n\r\n    let mapURL = `https://nominatim.openstreetmap.org/search?q=${searchBarValueEl}&format=geojson` \r\n\r\n    getMapInfo(mapURL) \r\n\r\n} \r\n\r\n//hämtar api med sökvärdet \r\nasync function getMapInfo(mapURL){\r\n    try {\r\n        let response = await fetch(mapURL); \r\n\r\n        let mapInfo = await response.json(); \r\n\r\n        let lat = mapInfo.features[0].geometry.coordinates[1]; \r\n        let long = mapInfo.features[0].geometry.coordinates[0]; \r\n\r\n        createMap(lat, long) \r\n\r\n\r\n    } catch {\r\n        console.log(\"Något gick galet...\")\r\n    }\r\n} \r\n\r\n\r\n// Skapar eller uppdaterar kartan med hjälp av latitud och longitud för sökningen\r\nfunction createMap(lat, long) {\r\n    if (map) {\r\n        // Flytta kartan till den nya platsen\r\n        map.setView([lat, long], 13);\r\n    } else {\r\n        // Skapa kartan för första gången\r\n        map = L.map(mapContainer).setView([lat, long], 13);\r\n        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n            maxZoom: 19,\r\n            attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\r\n        }).addTo(map);\r\n    }\r\n\r\n    // Lägg till markören på den nya platsen\r\n    L.marker([lat, long]).addTo(map);\r\n} \r\n"],"names":[],"version":3,"file":"map.a1438cb9.js.map","sourceRoot":"/__parcel_source_root/"}